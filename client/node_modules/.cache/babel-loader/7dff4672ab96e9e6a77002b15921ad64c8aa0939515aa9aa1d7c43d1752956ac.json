{"ast":null,"code":"import _toConsumableArray from\"/Users/apple/Downloads/backend/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/apple/Downloads/backend/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Downloads/backend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/apple/Downloads/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){// const API_BASE = \"http://localhost:5000/todo\";\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),addpopUp=_useState4[0],setAddPopUp=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),newTodo=_useState6[0],setNewTodo=_useState6[1];useEffect(function(){var getAllTodos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/todo\");case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;setTodos(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function getAllTodos(){return _ref.apply(this,arguments);};}();getAllTodos();},[todos]);var strikeHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var res,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"/todo/\"+id);case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:data=_context2.sent;setTodos(todos.map(function(t){if(t._id===data._id){t.complete=data.complete;}return t;}));_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 13:case\"end\":return _context2.stop();}},_callee2,null,[[0,10]]);}));return function strikeHandler(_x){return _ref2.apply(this,arguments);};}();var deleteHandler=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var res,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"/todo/\"+id,{method:\"DELETE\"});case 3:res=_context3.sent;_context3.next=6;return res.json();case 6:data=_context3.sent;setTodos(todos.filter(function(t){return t._id!==data._id;}));_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);case 13:case\"end\":return _context3.stop();}},_callee3,null,[[0,10]]);}));return function deleteHandler(_x2){return _ref3.apply(this,arguments);};}();var addNewTodo=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var res,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;res=fetch(\"/todo\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({text:newTodo})});_context4.next=4;return res.json();case 4:data=_context4.sent;setTodos([].concat(_toConsumableArray(newTodo),[data]));_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);console.error(_context4.t0);case 11:setNewTodo(\"\");setAddPopUp(false);case 13:case\"end\":return _context4.stop();}},_callee4,null,[[0,8]]);}));return function addNewTodo(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome, XXX\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"YOUR TASKS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"todos\",children:todos.map(function(element){return/*#__PURE__*/_jsxs(\"div\",{className:element.complete?\" todo is-complete \":\"todo\",onClick:function onClick(){return strikeHandler(element._id);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkbox\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:element.text}),/*#__PURE__*/_jsx(\"div\",{className:\"delete\",onClick:function onClick(e){e.stopPropagation();deleteHandler(element._id);},children:\"X\"})]},element._id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"addPopup\",onClick:function onClick(){return setAddPopUp(!addpopUp);},children:\"+\"}),addpopUp?/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",onClick:function onClick(){return setAddPopUp(!addpopUp);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"closePopup\",onClick:function onClick(){return setAddPopUp(false);},children:\"X\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Task\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"add-todo-input\",value:newTodo,onChange:function onChange(e){return setNewTodo(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return addNewTodo();},children:\"Create Task\"})]})]})}):\"\"]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","todos","setTodos","_useState3","_useState4","addpopUp","setAddPopUp","_useState5","_useState6","newTodo","setNewTodo","getAllTodos","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","console","error","stop","apply","arguments","strikeHandler","_ref2","_callee2","id","_callee2$","_context2","map","t","_id","complete","_x","deleteHandler","_ref3","_callee3","_callee3$","_context3","method","filter","_x2","addNewTodo","_ref4","_callee4","_callee4$","_context4","headers","body","JSON","stringify","text","concat","_toConsumableArray","className","children","element","onClick","e","stopPropagation","type","value","onChange","target"],"sources":["/Users/apple/Downloads/backend/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst App = () => {\n  // const API_BASE = \"http://localhost:5000/todo\";\n  const [todos, setTodos] = useState([]);\n  const [addpopUp, setAddPopUp] = useState(false);\n  const [newTodo, setNewTodo] = useState();\n\n \n\n  useEffect(() => {\n     const getAllTodos = async () => {\n       try {\n         const res = await fetch(\"/todo\");\n         const data = await res.json();\n         setTodos(data);\n         \n       } catch (err) {\n         console.error(err);\n       }\n     };\n    getAllTodos();\n  }, [todos]);\n  \n  const strikeHandler = async (id) => {\n    try {\n      const res = await fetch(\"/todo/\" + id);\n\n      const data = await res.json();\n      setTodos(\n        todos.map((t) => {\n          if (t._id === data._id) {\n            t.complete = data.complete;\n          }\n          return t;\n        })\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const deleteHandler = async (id) => {\n    try {\n      const res = await fetch(\"/todo/\" + id, {\n        method: \"DELETE\",\n      });\n\n      const data = await res.json();\n      setTodos(\n        todos.filter((t) => {\n          return t._id !== data._id;\n        })\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const addNewTodo = async () => {\n    try {\n      const res = fetch(\"/todo\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          text: newTodo,\n        }),\n      });\n      const data = await res.json();\n      setTodos([...newTodo, data]);\n    } catch (error) {\n      console.error(error);\n    }\n    setNewTodo(\"\");\n    setAddPopUp(false);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Welcome, XXX</h1>\n      <h4>YOUR TASKS</h4>\n\n      <div className=\"todos\">\n        {todos.map((element) => {\n          return (\n            <div\n              className={element.complete ? \" todo is-complete \" : \"todo\"}\n              key={element._id}\n              onClick={() => strikeHandler(element._id)}\n            >\n              <div className=\"checkbox\"></div>\n              <div className=\"text\">{element.text}</div>\n              <div\n                className=\"delete\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  deleteHandler(element._id);\n                }}\n              >\n                X\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      <div className=\"addPopup\" onClick={() => setAddPopUp(!addpopUp)}>\n        +\n      </div>\n      {addpopUp ? (\n        <div className=\"overlay\" onClick={() => setAddPopUp(!addpopUp)}>\n          <div className=\"popup\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"closePopup\" onClick={() => setAddPopUp(false)}>\n              X\n            </div>\n            <div className=\"content\">\n              <h3>Add Task</h3>\n              <input\n                type=\"text\"\n                className=\"add-todo-input\"\n                value={newTodo}\n                onChange={(e) => setNewTodo(e.target.value)}\n              />\n              <button className=\"button\" onClick={() => addNewTodo()}>\n                Create Task\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}